<div id="profile-toolbar-container" class="d-flex gap-3">
  <section *ngIf="!responsive">
    <button class="header-nav-btn gap-1">
      <span>{{ "header.notification" | translate }}</span>
      <div class="sprite-group-5-notification-on-white"></div>
    </button>
  </section>

  <section *ngIf="!responsive">
    <button
      #settingMenuTrigger="matMenuTrigger"
      (click)="settingMenuTrigger.openMenu()"
      [matMenuTriggerFor]="settingMenu"
      class="header-nav-btn gap-1"
    >
      <span>{{ "header.setting.title" | translate }}</span>
      <div class="sprite-group-5-setting-white"></div>
    </button>

    <!--Setting pop-up menu-->
    <div>
      <mat-menu #settingMenu="matMenu">
        <span>
          <button
            *ngxPermissionsOnly="[listPermission.getListAdminAccount]"
            (click)="onClickManageUser()"
            class="gap-1"
            mat-menu-item
          >
            <div class="d-flex gap-1 align-items-center">
              <img
                src="../../../../../assets/img/icon/group-7/svg/manage-user.svg"
                alt=""
              />
              <span>{{ "header.mange_user" | translate }}</span>
            </div>
          </button>
          <button class="gap-1" mat-menu-item [matMenuTriggerFor]="lv2">
            <div class="d-flex gap-1 align-items-center">
              <span>{{ "header.setting.product_setting" | translate }}</span>
            </div>
          </button>
          <button (click)="onClickMonexProduct()" class="gap-1" mat-menu-item>
            <div class="d-flex gap-1 align-items-center">
              <span>{{ "header.setting.monex_product" | translate }}</span>
            </div>
          </button>
          <button
            *ngxPermissionsOnly="[listPermission.getApplicationDocuments]"
            (click)="onClickConfigDocument()"
            class="gap-1"
            mat-menu-item
          >
            <div class="d-flex gap-1 align-items-center">
              <span>{{ "header.setting.config_document" | translate }}</span>
            </div>
          </button>
          <button
            *ngxPermissionsOnly="[listPermission.getContractTemplate]"
            (click)="onClickConfigContract()"
            class="gap-1"
            mat-menu-item
          >
            <div class="d-flex gap-1 align-items-center">
              <span>{{ "header.setting.config_contract" | translate }}</span>
            </div>
          </button>
        </span>
      </mat-menu>

      <mat-menu #lv2="matMenu">
        <span>
          <button class="gap-1" mat-menu-item [matMenuTriggerFor]="lv3">
            <div class="d-flex gap-1 align-items-center">
              <span>{{ "header.setting.cde_setting" | translate }}</span>
            </div>
          </button>
          <button (click)="onClickProductStatus()" class="gap-1" mat-menu-item>
            <div class="d-flex gap-1 align-items-center">
              <span>{{ "header.setting.manage_status" | translate }}</span>
            </div>
          </button>
          <button (click)="onClickStatusFlow()" class="gap-1" mat-menu-item>
            <div class="d-flex gap-1 align-items-center">
              <span>{{ "header.setting.workflow" | translate }}</span>
            </div>
          </button>
        </span>
      </mat-menu>

      <mat-menu #lv3="matMenu">
        <span>
          <button class="gap-1" mat-menu-item [matMenuTriggerFor]="lv4">
            <div class="d-flex gap-1 align-items-center">
              <span>{{ "header.setting.pd_setting" | translate }}</span>
            </div>
          </button>
        </span>
      </mat-menu>

      <mat-menu #lv4="matMenu">
        <span>
          <button (click)="onClickPdGroup()" class="gap-1" mat-menu-item>
            <div class="d-flex gap-1 align-items-center">
              <span>{{ "header.setting.pd_group" | translate }}</span>
            </div>
          </button>

          <button (click)="onClickPdQuestions()" class="gap-1" mat-menu-item>
            <div class="d-flex gap-1 align-items-center">
              <span>{{ "header.setting.pd_questions" | translate }}</span>
            </div>
          </button>

          <!--                        <button-->
          <!--                          (click)="onClickPdAnswers()"-->
          <!--                          class="gap-1"-->
          <!--                          mat-menu-item-->
          <!--                        >-->
          <!--                          <div class="d-flex gap-1 align-items-center">-->
          <!--                            <span>{{ "header.setting.pd_answers" | translate }}</span>-->
          <!--                          </div>-->
          <!--                        </button>-->

          <button (click)="onClickPdModel()" class="gap-1" mat-menu-item>
            <div class="d-flex gap-1 align-items-center">
              <span>{{ "header.setting.pd_model" | translate }}</span>
            </div>
          </button>
        </span>
      </mat-menu>
    </div>
  </section>

  <section>
    <button
      id="profile-btn"
      [matMenuTriggerFor]="profileMenu"
      #profileMenuTrigger="matMenuTrigger"
      (click)="profileMenuTrigger.openMenu()"
      class="p-0"
    >
      <div
        class="
          d-flex
          flex-row
          text-center
          justify-content-between
          align-items-center
          gap-2
        "
      >
        <div>
          <p id="manager-name">{{ userInfo?.fullName }}</p>
          <p id="manager-role" class="d-flex gap-1">
            <span class="sprite-group-5-personal-roll"></span>
            <span>{{ userInfo?.groupEntity?.name }}</span>
          </p>
        </div>
        <div class="avatar">{{ shortName }}</div>
      </div>
    </button>

    <!--Profile-popup-->
    <mat-menu #profileMenu="matMenu">
      <span (mouseleave)="profileMenuTrigger.closeMenu()">
        <!--        <button mat-menu-item class="gap-1" *ngIf="responsive">-->
        <!--          <div class="d-flex gap-1 align-items-center">-->
        <!--            <span>{{ "header.notification" | translate }}</span>-->
        <!--            <div class="sprite-group-5-notification-on"></div>-->
        <!--          </div>-->
        <!--        </button>-->

        <!--        <button mat-menu-item class="gap-1" *ngIf="responsive">-->
        <!--          <div class="d-flex gap-1 align-items-center">-->
        <!--            <span>{{ "header.setting.title" | translate }}</span>-->
        <!--            <div class="sprite-group-5-setting"></div>-->
        <!--          </div>-->
        <!--        </button>-->

        <button
          *ngxPermissionsOnly="[listPermission.getListAdminAccount]"
          (click)="onClickManageUser()"
          class="gap-1"
          mat-menu-item
        >
          <div class="d-flex gap-1 align-items-center">
            <img
              src="../../../../../assets/img/icon/group-7/svg/manage-user.svg"
              alt=""
            />
            <span>{{ "header.mange_user" | translate }}</span>
          </div>
        </button>

        <button (click)="openUpdateDialog()" class="gap-1" mat-menu-item>
          <div class="d-flex gap-1 align-items-center">
            <img
              src="../../../../../assets/img/icon/group-7/svg/user-info.svg"
              alt=""
            />
            <span>{{ "header.account" | translate }}</span>
          </div>
        </button>
        <button (click)="logout()" mat-menu-item>
          <div class="d-flex gap-1 align-items-center">
            <img
              src="../../../../../assets/img/icon/group-7/svg/logout.svg"
              alt=""
            />
            <span>{{ "auth.logout" | translate }}</span>
          </div>
        </button>
      </span>
    </mat-menu>
  </section>
</div>
