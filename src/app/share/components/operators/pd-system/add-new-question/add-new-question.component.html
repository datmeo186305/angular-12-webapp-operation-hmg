<div class="container-fluid">
  <div class="card op-card">
    <button class="close-btn" mat-dialog-close mat-icon-button tabindex="-1">
      <span class="sprite-group-7-close"></span>
    </button>

    <div class="card-title title">
      {{dialogTitle}}
    </div>
    <div class="card-body">
      <form [formGroup]="addPdForm" (ngSubmit)="submitForm()" autocomplete="off">
        <div class="row">
          <!--  Info  -->
          <section class="col-12">
            <div class="row">

              <!-- Left Individual Info -->
              <div class="col-4 col-sm-4 col-md-4 col-lg-4 pr-2">
                <div>
                  <mat-form-field autofilled="false" appearance="outline" class="w-100" floatLabel="never">
                    <mat-label>{{ 'pd_system.add_question_dialog.code' | translate }}</mat-label>
                    <input (blur)="isAccountNameInputFocus = false"
                           (focus)="isAccountNameInputFocus = true"
                           [ngClass]="
                        isAccountNameInputFocus ? 'is-focused-input' : ''
                      " [placeholder]="'pd_system.add_question_dialog.code' | translate"
                           [value]="addPdForm.controls.code.value ? addPdForm.controls.code.value : 'PDQ-XXX'"
                           disabled
                           aria-autocomplete="none"
                           matInput
                    >
                  </mat-form-field>
                </div>

                <div>
                  <mat-form-field appearance="outline" class="w-100" floatLabel="never">
                    <mat-label>{{'pd_system.add_question_dialog.name' | translate}}</mat-label>
                    <input
                      (blur)="isLoginInputFocus = false"
                      (focus)="isLoginInputFocus = true"
                      [ngClass]="
                        isLoginInputFocus ? 'is-focused-input' : ''
                      "
                      [placeholder]="'pd_system.add_question_dialog.name' | translate"
                      formControlName="content"
                      aria-autocomplete="none"
                      required
                      matInput
                    />
                    <show-errors
                      [control]="addPdForm.controls['content']"
                      [controlLabel]="'pd_system.add_question_dialog.name' | translate"
                      [hasIconPrefix]="false"
                    >
                    </show-errors>
                  </mat-form-field>
                </div>

                <div>
                  <mat-form-field appearance="outline" class="w-100" floatLabel="never">
                    <mat-label>{{'pd_system.add_question_dialog.placeholder' | translate}}</mat-label>
                    <input
                      (blur)="isLoginInputFocus = false"
                      (focus)="isLoginInputFocus = true"
                      [ngClass]="
                        isLoginInputFocus ? 'is-focused-input' : ''
                      "
                      [placeholder]="'pd_system.add_question_dialog.placeholder' | translate"
                      formControlName="placeHolder"
                      aria-autocomplete="none"
                      matInput
                    />
                    <show-errors
                      [control]="addPdForm.controls['placeHolder']"
                      [controlLabel]="'pd_system.add_question_dialog.name' | translate"
                      [hasIconPrefix]="false"
                    >
                    </show-errors>
                  </mat-form-field>
                </div>

                <div>
                  <mat-form-field appearance="outline" class="w-100">
                    <mat-label>{{
                      "pd_system.add_question_dialog.types" | translate}}</mat-label>
                    <mat-select required formControlName="answerType" (selectionChange)="selectType($event.value)">
                      <mat-option
                        *ngFor="let type of answerTypes"
                        [value]="type.name">{{type.name}}
                      </mat-option>
                    </mat-select>
                    <show-errors
                      [control]="addPdForm.controls['answerType']"
                      [controlLabel]="
                        'pd_system.add_question_dialog.types' | translate
                      "
                      [hasIconPrefix]="false"
                    >
                    </show-errors>
                  </mat-form-field>
                </div>

                <div>
                  <mat-form-field appearance="outline" class="w-100">
                    <mat-label>{{
                      "pd_system.add_pd_dialog.description" | translate
                      }}</mat-label>
                    <textarea
                      style="height: 180px"
                      matInput
                      class="text-area"
                      id="review"
                      name="review"
                      formControlName="description"
                      [placeholder]="'pd_system.add_pd_dialog.description' | translate"
                    ></textarea>
                    <show-errors
                      [control]="addPdForm.controls['description']"
                      [controlLabel]="
                        'pd_system.add_pd_dialog.description' | translate
                      "
                      [hasIconPrefix]="false"
                    >
                    </show-errors>
                  </mat-form-field>
                </div>

                <div>
                  <mat-checkbox formControlName="isMandatory"
                                class="example-margin">{{"pd_system.add_question_dialog.mandetory" | translate}}</mat-checkbox>
                </div>
              </div>

              <!-- Right Individual Info -->
              <div class="col-8 col-sm-8 col-md-8 col-lg-8 pr-2">
                <div class="row">
                  <div class="select-section d-flex justify-content-between">
                    <div class="col-12">
                      <div class="heading d-flex align-items-center justify-content-between">
                        <div>{{"pd_system.add_question_dialog.answers" | translate}}</div>
                        <div *ngIf="manyAnswers" (click)="addAnswer()"
                             class="d-flex align-items-center gap-1 add-answer">
                          <span>Thêm câu trả lời</span>
                          <svg width="16" height="16" viewBox="0 0 16 16" fill="none"
                               xmlns="http://www.w3.org/2000/svg">
                            <path
                              d="M7.92227 2.00449L8 2C8.34187 2 8.62367 2.25736 8.6622 2.58892L8.66667 2.66667V7.33333H13.3333C13.6752 7.33333 13.957 7.59067 13.9955 7.92227L14 8C14 8.34187 13.7427 8.62367 13.4111 8.6622L13.3333 8.66667H8.66667V13.3333C8.66667 13.6752 8.40933 13.957 8.07773 13.9955L8 14C7.65813 14 7.37633 13.7427 7.3378 13.4111L7.33333 13.3333V8.66667H2.66667C2.32477 8.66667 2.04299 8.40933 2.00449 8.07773L2 8C2 7.65813 2.25736 7.37633 2.58892 7.3378L2.66667 7.33333H7.33333V2.66667C7.33333 2.32477 7.59067 2.04299 7.92227 2.00449L8 2L7.92227 2.00449Z"
                              fill="#007AFF"/>
                          </svg>
                        </div>
                      </div>

                      <div *ngIf="oneAnswer">
                        <mat-form-field appearance="outline" class="w-100" [floatLabel]="'never'">
                          <mat-label>{{ 'pd_system.add_question_dialog.string_input' | translate }}</mat-label>
                          <input
                            [placeholder]="'pd_system.add_question_dialog.name' | translate"
                            aria-autocomplete="none"
                            disabled
                            matInput
                          />
                          <show-errors
                            [control]="addPdForm.controls['accountName']"
                            [controlLabel]="'pd_system.add_question_dialog.name' | translate"
                            [hasIconPrefix]="false"
                          >
                          </show-errors>
                        </mat-form-field>
                      </div>

                      <div *ngIf="manyAnswers" class="box">
                        <div *ngFor="let numAnswer of numAnswers; let i = index"
                             class="item d-flex align-items-center gap-2">
                          <mat-form-field appearance="outline" style="width: 95%" [floatLabel]="'never'">
                            <input
                              name="answer_{{i}}"
                              [(ngModel)]="numAnswer.value"
                              [ngModelOptions]="{standalone: true}"
                              [placeholder]="'pd_system.add_question_dialog.answer_input' | translate"
                              aria-autocomplete="none"
                              matInput
                            />
                          </mat-form-field>
                          <span (click)="removeAnswer(i)">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                 xmlns="http://www.w3.org/2000/svg">
<path
  d="M4.2097 4.3871L4.29289 4.29289C4.65338 3.93241 5.22061 3.90468 5.6129 4.2097L5.70711 4.29289L12 10.585L18.2929 4.29289C18.6834 3.90237 19.3166 3.90237 19.7071 4.29289C20.0976 4.68342 20.0976 5.31658 19.7071 5.70711L13.415 12L19.7071 18.2929C20.0676 18.6534 20.0953 19.2206 19.7903 19.6129L19.7071 19.7071C19.3466 20.0676 18.7794 20.0953 18.3871 19.7903L18.2929 19.7071L12 13.415L5.70711 19.7071C5.31658 20.0976 4.68342 20.0976 4.29289 19.7071C3.90237 19.3166 3.90237 18.6834 4.29289 18.2929L10.585 12L4.29289 5.70711C3.93241 5.34662 3.90468 4.77939 4.2097 4.3871L4.29289 4.29289L4.2097 4.3871Z"
  fill="#FF3B30"/>
</svg>
                          </span>
                        </div>
                      </div>

                      <div *ngIf="sliderType" class="mt-3">
                        <div *ngFor="let sliderAnswer of sliderAnswers; let i = index"
                             class="item d-flex align-items-center gap-2">
                          <mat-form-field appearance="outline" style="width: 100%" [floatLabel]="'never'">
                            <mat-label>{{sliderAnswer.placeHolder}}</mat-label>
                            <input
                              name="answer_{{i}}"
                              [(ngModel)]="sliderAnswer.value"
                              [ngModelOptions]="{standalone: true}"
                              [placeholder]="sliderAnswer.placeHolder"
                              aria-autocomplete="none"
                              [type]="i === sliderAnswers.length - 1 ? 'text':'number'"
                              matInput
                            />
                          </mat-form-field>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </section>
        </div>

        <!--  Actions -->
        <div class="row mt-2">
          <div class="col-12 d-flex gap-2 justify-content-end">
            <button class="bg-grey"
                    mat-button
                    mat-dialog-close
            >
              {{ "account.info.cancel_update" | translate }}
            </button>
            <button
              type="submit"
              color="accent"
              mat-flat-button>
              <span class="sprite-group-5-save-white"></span>
              <span class="ms-1">{{ "account.info.save_update" | translate }}</span>
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
